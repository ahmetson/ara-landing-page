import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as w}from"./index.BVOCwoKb.js";import{m as b}from"./marked.esm.CZd74qPG.js";const v=JSON.parse('[{"group":"blog","slug":"blog/ara-hyperpayment-specification","frontmatter":{"title":"Ara Hyperpayment specification","meta_title":"","description":"A blog post that describes use-case of the apps","date":"2024-04-17T00:00:00.000Z","categories":["hyperpayment","opensource","specification","ara"],"author":"Medet Ahmetson","tags":["hyperpayment","ara","opensource"],"draft":false},"content":"\\n# Ara hyperpayment specification\\n\\n- Keywords: Ara, Opensource, Hyperpayment\\n- Status: draft\\n\\nAra hyperpayment specification extends the [Open-source hyperpayment specification](/blog/opensource-hyperpayment-specification)\\n\\nAra hyperpayment defines the payment platform where cryptocurrency purchases are made. This specification describes how much the network operators and blockchain developers consume the transaction fee.\\n\\n## License\\nCopyright (c) 2024 Medet Ahmetson, Sergey Pak, and contributors\\n\\nThis Specification is free software; you can redistribute it and modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License or (at your option) any later version.\\nThis Specification is distributed in the hope that it will be useful but WITHOUT ANY WARRANTY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\\nYou should have received a copy of the GNU General Public License and this program; if not, see http://www.gnu.org/licenses.\\n\\n## Change Process\\nThis Specification is a free and open standard governed by the Ara Foundation. Any changes must be approved by consensus with the main editor.\\n\\n## Language\\nThe keywords “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119 (see “Key words for use in RFCs to Indicate Requirement Levels\\").\\n\\n\\n## Goals\\nNo payment system allows easy distribution of payment using hyperpayment protocol. Blockchain and cryptocurrency are the ideal for implementing hyperpayment.\\n\\nHowever, to operate the blockchain, both blockchain networks must take the transaction fees to maintain the network.\\n\\nThis specification defines the revenue model of the blockchain that implements Open-Source hyperpayment, which allows the distribution of tokens to open-source libraries. Our aim for the blockchain is to support any kind of hyperpayment, whether for social goods or something else.\\n\\n\\nIt aims to:\\n- A universal platform is used to implement any hyperpayment specifications, whether they extend open source or not.\\n- Paid by the users, not by the software developers.\\n- Paid to support blockchain development and network security\\n\\nThe use cases include:\\n- Ara blockchain for the personalized computers.\\n- Donations distributed to all contributors around the web.\\n\\n\\n## Categories:\\nThere are two additional categories of the software:\\n\\n- **network** category is is used for the blockchain foundation. The money in the category is used as the payment for the blockchain developers along with all dependencies it uses.\\n\\n- **operator** category defines the class of the addresses that run the blockchain network. The amount on how much it charges depends on the blockchain implementation.\\n\\n## Categorization\\nThe following section describes how to list the users. Then, how to classify them.\\n- **network** — is defined by the blockchain foundation.\\n- **network** — defines itself as the business here that lists the dependencies and environments.\\n\\n- **operator** — is the node that runs the blockchain network they register themselves during the block mining.\\n\\n## Flow\\n\\n### Resources\\n- **$customer** is the money that is taken from the customer. $business was defined in the original open-source protocol. Here the business is only 18%. \\n- The **network** is the 2% of $customer \\n- **$operator** is the money that is taken from the customer. Used to pay for the node operators.\\n\\n### Splines\\n- **Flow 1** - **$customer** from **customer** to **business**\\n- **Flow 2** - **$environment** from **business** to **environment**\\n- **Flow 3** - **$business** from **business** to **dep**\\n- **Flow 4** - **$dep** from **dep** to **dep**\\n\\n- **Flow 5** - **$network** from **customer** to **network**\\n- **Flow 6** - **$operator** from **customer** to **operator**\\n\\n### Junctions\\n- Flow 3 comes before Flow 1. \\n- Flow 2 comes after Flow 3. \\n- Flow 4 comes before Flow 3.\\n- Flow 5 comes before Flow 4.\\n- Flow 6 comes after Flow 1.\\n\\n## Contracts\\nContracts define how the money is calculated for the category and the junctions. It also determines how the money is distributed within the category elements.\\n\\n**customer** doesn’t have any contract, as only the receiving parties can define it.\\n\\n**network** defines the contract by which it will receive the payments. The network contract shall have three software packages under the business category. One for the client, one for the specifications, and one for the blockchain node. Each business user is required to get an agreement on how many percentages of the tokens are deducted from them.\\n\\n**operator** contract defines the tokens per transaction call. The price is arbitrary and depends on the computation complexity and network intensity. Therefore, it is up to the node operators how much they would charge.\\n\\n\\n## Implementations and Further Reading\\n\\nDefine how the alternative client and blockchain node operators may extend this protocol so that alternative software developers can also receive the money.\\n\\n"},{"group":"blog","slug":"blog/hyperpayment-motivation","frontmatter":{"title":"What is missing for the blockchain to create real use-case apps","meta_title":"","description":"A blog post that describes use-case of the apps","date":"2024-06-01T00:00:00.000Z","categories":["hyperpayment"],"author":"Medet Ahmetson","tags":["hyperpayment"],"draft":false},"content":"\\n## Blockchain that I want\\nFirst, Ara is the blockchain platform where our customers are not the end users but developers.\\nOur blockchain stands out because it provides a client and an app store.\\nThink of the blockchain as a decentralized machine. The browser allows you to search for all software installed there and is also a platform that will enable you to use it. Like on your phones, you have App Stores, or on Computers, you have Marketplaces or programming languages that come with package registries. \\n\\nAnd no blockchain comes with that. The reason why we don’t make it simply as a client for the current platforms but an entirely new blockchain is not technical but ethical it relies on capital. This capital is built into technology. Namely, if I make a client and the tools for the software, then the blockchain creators and early adopters will be billionaires. Especially if I use their native coin as the client’s coin as well. Why does someone else have to be richer than me because of my software? And this premise would prevent the appearance of any killer dapps on the platforms. So better approach will be one app in one blockchain.\\n\\n\\nSecond, because of the technological limitations, we can set up a small apps running on the blockchains. This apps are called smartcontracts and can’t exceed few kilobytes in size. The more computation means the expensive it is. But all the apps are stored together, in the same platform. And also blockchain means, this softwares can be controlled by the people who make it.\\n\\nSo it gives us a potential to generate apps for the users desires because they are small. That allows us to train the programs We can train the AI to write them by learning all the software on the blockchain as well.\\n\\n\\n"},{"group":"blog","slug":"blog/hyperpayment-protocol","frontmatter":{"title":"Hyperpayment protocol","meta_title":"","description":"A blog post that describes use-case of the apps","date":"2024-04-17T00:00:00.000Z","categories":["hyperpayment"],"author":"Medet Ahmetson","tags":["hyperpayment","ara","maydan"],"draft":false},"content":"\\n# Hyperpayment protocol\\n\\n- Keywords: Ara, Hyperpayment\\n- Status: early-version\\n\\nThe Hyperpayment protocol defines an agreement on how the payment occurred between multiple parties who don’t know each other.\\n\\nUsing the hyperpayment protocol create a specification for a specific domain. Then implement it.\\n\\n## License\\nCopyright (c) 2024 Medet Ahmetson, Sergey Pak, and contributors\\n\\nThis Specification is free software; you can redistribute it and modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License or (at your option) any later version.\\nThis Specification is distributed in the hope that it will be useful but WITHOUT ANY WARRANTY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\\nYou should have received a copy of the GNU General Public License and this program; if not, see http://www.gnu.org/licenses.\\n\\n## Change Process\\nThis Specification is a free and open standard governed by the Ara Foundation. Any changes must be approved by consensus with the main editor.\\n## Language\\nThe keywords “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119 (see “Key words for use in RFCs to Indicate Requirement Levels\\").\\n\\n\\n## Goals\\nHyperpayment is created to define a decentralized payment system involving multiple parties, yet the participants don’t know each other without permission, affecting more than two parties. \\n\\nIt will lead to the decentralization of the Internet.\\n\\nIt aims to:\\n- Be the internet’s payment protocol.\\n- Be minimalistic in terms of syntax.\\n- It should be trivial to make it understandable by humans and computers.\\n- Be expandable\\n- Reduce the risk of human error to as close to zero as possible.\\n\\nThe use cases for Hyperpayment include:\\n- Revenue of the open source library from the proprietary software.\\n- Data ownership of the user and receiving money if data analysts and AI model trainers used it.\\n\\n## Specification\\nHyperpayment defines a text format of how the particular parties in a domain on the internet interact. Each domain must specify the protocol that follows the hyperpayment protocol.\\nThe protocol must specify the\\n- Category of the parties.\\n- Building that defines how participants are categorized into the categories and the hierarchy of the categories.\\n- The flow of money between categories is the vectors and splines. The first flow must be defined as the initial point of which category sends what. The flow section must describe the junction of the flow vectors.\\n- The source defines all the money. The money may be deposited, withdrawn, or transferred.\\n- The resources denoting the money shall be described as category and $ prefix. The flow must be based on the resources.\\n- Junctions must be defined using the hooks “before,” “after,” and “along.”\\n- Contract of each category that shall define how the money is received and how it is forwarded\\n\\nThe category must not have the keywords whose lemmas are:\\n“Ara,” “hyperpayment,” “user,” “category,” and “love.” \\n\\nThis means, “usering,” “categories,” “categorize,” “ara,” “a-ra” must not be used.\\n\\nThe category must be defined as a single word.\\n\\nAny hyperpayment protocol of any domain must \\nbe expandable. \\n\\nThe resources that are going through the flow must be retained. The sum of all money that every user in all categories receives must equal the initial resource.\\n\\nThe expanded protocol \\n- Must include the web link to the protocol that it expands in the intro. \\n- The expanding protocol may add new categories. \\n- The expanding protocol must not change the category list defined by the parent protocol.\\nThe expanding protocol must not change the contract.\\n\\nHere is the template that the protocols may follow:\\n- Title: Opensource\\n- Implements: Hyperpayment protocol (Link to this document)\\n- Authors: John Doe (to@example.com)\\n- Intro: the open source library; if it’s used in the proprietary software, then the user must also pay for the library.\\n- Categories:\\n    - Client\\n    - Dependency\\n    - Business\\n- Flow:\\n    - Resources: $client\\n    - Flow#1 - $client from Client to Business.\\n    - Flow#2 - $client from Client to Dependency.\\n- Junctions\\n    - Flow#2 is executed before the flow#1. The flow 2 receives the remaining amount from the flow 2.\\n\\n\\n- Contracts:\\n    - Client: is defined by the businesses. It’s the user who uses the client.\\n    - Business: is defined by the software developer.\\n    The business owner defines dependency by exposing the open-source code of their software.\\nImplementations and Further Reading\\n\\n[Open-source hyperpayment specification](https://ara.foundation/blog/opensource-hyperpayment-specification).\\n\\n[Ara hyperpayment specification](https://ara.foundation/blog/ara-hyperpayment-specification).\\n\\nTodo: define the interface for the contracts and types of the contracts.\\n\\n\\n"},{"group":"blog","slug":"blog/hyperpayment-specification","frontmatter":{"title":"What is missing for the blockchain to create real use-case apps","meta_title":"","description":"A blog post that describes use-case of the apps","date":"2024-04-17T00:00:00.000Z","categories":["hyperpayment"],"author":"Medet Ahmetson","tags":["hyperpayment"],"draft":false},"content":"\\n# [Tk of specification]\\n- Keywords: [keyword list]\\n- Status: draft\\n- Editor: [Author] [Emai]\\n- Protocol: Hyperpayment protocol. [Protocol Link]\\n[Tk of specification]’s intro. Here is the short purpose of the implementation\\n\\n## License\\nCopyright © [year], [Author], and contributors.\\n\\nThis Specification is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License or (at your option) any later version.\\nThis Specification is distributed in the hope that it will be useful but WITHOUT ANY WARRANTY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\\nYou should have received a copy of the GNU General Public License and this program; if not, see http://www.gnu.org/licenses.\\n\\n## Change Process\\nThis Specification is a free and open standard governed by the Ara Foundation. Any changes must be approved by consensus with the main editor.\\n\\n## Language\\nThe keywords “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119 (see “Key words for use in RFCs to Indicate Requirement Levels\\").\\n\\n\\n## Goals\\n[Tk of specification] goals is the extended version of the intro with the example of the use cases.\\n\\nIt aims to:\\n* [list element]\\n\\nThe use cases for [Tk of specification] include:\\n* [list element]\\n\\n## [Categories]\\nCategories:\\n* Client\\n* Dependency\\n* Business\\n\\n[Flow]\\n* [list element]\\n[Resources]\\n* [list element]\\n\\n[Splines]\\n* [list element]\\n[Junctions]\\n* [list element]\\n[Contracts]\\n* [list element]\\n\\n## Implementations and Further Reading\\nA software, and payment systems that supports this protocol. A softwares that follows the specification.\\n\\n"},{"group":"blog","slug":"blog/opensource-hyperpayment-specification","frontmatter":{"title":"Opensource Hyperpayment specification","meta_title":"","description":"A blog post that describes use-case of the apps","date":"2024-04-17T00:00:00.000Z","categories":["hyperpayment","opensource","specification"],"author":"Medet Ahmetson","tags":["hyperpayment","ara","opensource"],"draft":false},"content":"\\n# Opensource hyperpayment specification\\n\\n- Keywords: Ara, Opensource, Hyperpayment\\n- Status: draft\\n\\nThis payment specification describes how much money the open-source libraries and programming language organizations will receive as revenue from internet businesses created using the tools above.\\n\\n## License\\nCopyright (c) 2024 Medet Ahmetson, Sergey Pak, and contributors\\n\\nThis Specification is free software; you can redistribute it and modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License or (at your option) any later version.\\nThis Specification is distributed in the hope that it will be useful but WITHOUT ANY WARRANTY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\\nYou should have received a copy of the GNU General Public License and this program; if not, see http://www.gnu.org/licenses.\\n\\n## Change Process\\nThis Specification is a free and open standard governed by the Ara Foundation. Any changes must be approved by consensus with the main editor.\\n## Language\\nThe keywords “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119 (see “Key words for use in RFCs to Indicate Requirement Levels\\").\\n\\n\\n## Goals\\nThe modern open-source or freeware ecosystem isn’t economically sustainable, which leads to license changes to more strict sources. Recent examples are MongoDB\'s license change to a Server-Side public license and Unity\'s license change to charge more money, as described in Unity\'s [license change](https://gamerant.com/unity-licensing-fee-backlash-change/).\\n\\nThis specification defines the revenue model for open source software licensed under the BSD license family, such as “BSD,” “MIT,” or “Apache License,” or under the GPL, such as GNU GPL, AGPL, or Mozilla Public License.\\n\\nUnder this specification, the software maintainers don’t have to explicitly ask for the use of this specification for the payments. This means the current internet won’t have to change in order to adapt.\\n\\nIndeed, this model is optional, regardless of whether the open-source libraries get or don’t get the money set up by the software that uses the open-source libraries.\\n\\nThe goal is to provide a version of the intro with examples of the use cases.\\n\\nIt aims to:\\n- Be optional and one of the sources of income.\\n- Paid by the users, not by the software developers.\\n- Paid to all dependencies, including dependencies of the dependencies.\\n- Incentives the open source economy to make open source compete with the proprietary software regarding the issue solving speed.\\n\\nThe use cases include:\\n- A marketplace where users want to use the software but don’t have money to pay; instead, users will pay for them.\\n- A blockchain cryptocurrency that implements this specification.\\n\\n\\n## Categories:\\nThere are three categories of the software:\\n\\n- **environment** category is used for the programming languages in which the software was written.\\n- **dep** category defines the open-source standalone software and libraries.\\n- **business** category defines the software.\\n- **customer** category defines the user of the software under the **business** category.\\n\\n## Categorization\\nThe following section describes how to list the users. Then, how to classify them.\\n- **customer** — Any user who uses the software for any task other than software development; thus, it’s automatically defined.\\n- **business** — Any software if the customer directly uses it. \\n    - **business** — software shall be managed using Git or other similar version control systems. \\n    - **business** — software shall be hosted on the repository platform.\\n    - **business** — it is recommended that it be a public repository.\\n- **environment** — the users of the **environment** category are defined using https://github.com/github-linguist/linguist/. The users under the **environment** category are the programming, configuration, template, and markup languages list.\\n- **environment** - the environment is exported as the JSON file using [Github Linguist](https://github.com/github-linguist/linguist/) and named the `environment.json` in the root folder of the business software repository.\\n- **dep** — is the package used for software development. For *node.js*, it is the packages listed in the `package.json` and fetched from the npm. For the *Go* language, the packages are listed in the `go.mod` file. For *Python*, the `requirements.txt` listed packages managed via *PyPI*.\\n- **dep** — list of users under the **dep** category must be fetched using the **business** software’s Software Bill of Materials (Bom). \\n- **dep** — The dependencies must be listed as `bom.json` in the root directory of the business software repository. The bom files may be generated using either [CycloneDX](https://github.com/CycloneDX) or [SPDX](https://spdx.dev/). \\n- **business** — for a private repository, the `environment.json` and `bom.json` must be defined in a public repository and linked from the business software.\\n- **dep** — the generated bom will list the dependencies as a tree that we categorize internally in the levels starting from 1. The primary dependencies imported by the business software are level 1. The dependencies that level 1 depends on are level 2. And so on.\\n\\nExample of `environment.json` generated as https://github.com/github-linguist/linguist?tab=readme-ov-file#--json\\n\\nThis file must be stored in the repository’s root directory.:\\n\\n```json\\n{  \\n\\"Toml\\":{\\n    \\"size\\":1212,\\n    \\"percentage\\": \\"0.5\\"\\n  },\\n  \\"Python\\":{\\n    \\"size\\":25999,\\n    \\"perc,e\\": \\"95.5\\"\\n  }\\n}\\n```\\n\\nExample of bom.json for the project written in Python:\\nhttps://github.com/ara-foundation/blockchain-simulator/blob/deployment/bom.json\\n\\n\\nThis Bom file is in the CycloneDX format. It was generated using the CylconeDX Python library.\\n\\n## Flow\\n### Resources\\n- **$customer** is the money that is taken from the customer. \\n- The **business** defines the amount of $ per customer.\\n- **$business** is the 20% of the $customer.\\n- **$environment** is the 0.5% of the **$business**.\\n- **$dep** depends on the level of the dependency.\\n### Splines\\n- **Flow 1** - **$customer** from **customer** to **business**\\n- **Flow 2** - **$environment** from **business** to **environment**\\n- **Flow 3** - **$business** from **business** to **dep**\\n- **Flow 4** - **$dep** from **dep** to **dep**\\n\\n### Junctions\\n- Flow 3 comes before Flow 1. \\n- Flow 2 comes after Flow 3. \\n- Flow 4 comes before Flow 3.\\n\\n## Contracts\\nContracts define how the money is calculated for the category and the junctions. It also determines how the money is distributed within the category elements.\\n\\n**customer** doesn’t have any contract, as only the receiving parties can define it.\\n\\n**business** contract defines the contract by which it will receive the payments. Examples of business contracts are *“subscription,”* “one-time purchase,” “per-API call,” etc. The contract defines the amount per $customer. There must be only one element in the business category.\\n\\n**Each environment has a fixed amount of money, defined as $environment**, distributed equally among all environments.\\n\\n**dep** contract says that the first-level dependencies distribute all the **$business** money equally. If there is level 2 of the particular dependency at level 1, then the level 1 dependency gets 80%, while the remaining 20% is defined as **$dep**. \\n\\nThe dependencies at level 2 share equally the **$dep**. If a dependency at level 2 has dependencies at level 3, then this particular dependency gets 80%, while the remaining 20% is turned into **$dep**.\\n\\n## Implementations and Further Reading\\n\\n[Ara hyperpayment specification](/blog/ara-hyperpayment-specification) is the extension of this specification for the blockchains.\\n\\n"},{"group":"blog","slug":"blog/turning-code-piece-into-restful-api-with-sds-package","frontmatter":{"title":"Interact with the javascript/json objects in a Restful way using SDSRest","meta_title":"","description":"A blog describes our refactoring when we turned our AST tree to be REST operational","date":"2025-05-17T00:00:00.000Z","categories":["rest","sds","reflect","refactoring"],"author":"Medet Ahmetson","tags":["refactoring","reflect","exciting"],"draft":false},"content":"\\n## Intro\\nHey, there! I am refactoring my typescript library. I wanted to describe my journey on how I used `Rest` library to write elegant solution. I\'m so excited that I wanted to share with others my solution, hoping it would help you as well. \\n`Rest` library that I want integrate allows to create RESTFul api for any JSON by the CSS Selectors as a querying language.\\n\\nIf you have a large object or deeply nested JSON. CSS Selectors allows a powerful filtering operation to find right element at right nesting. But it\'s not about the library, but how it became elegant and saved me headaches in a long run.\\n\\nFirstly, to give a context, let me describe a library that I am refactoring. A little bit about how the library works internally. I will explain the part used in this refactoring journey. Stay with me till the end, and I hope you will also appreciate by my choice of Rest as the elegant solution. And if you will be in the same situation as I am, hopefully Rest could help you as well. :)\\n\\n> Rest module is open source and released already. It\'s available in the `@ara-web/sds` package in [npmjs](npmjs.com).\\n\\n## Refactoring\\nThe library that I am refactoring is called Reflect package. *Not released yet*. If you are a frontend developer, then with Reflect, you could change data or UI right in your browser console instead opening up the the code editor. \\n\\n> I created it, after getting tired by adjusting CSS. Also, if I had to change the text on the page, I had to go to my code editor, type `\\"Lorum ipsum.Nospace after dot\\"` to find the file. And all of it just to fix the typo. Reflect is the CMS, and Admin panel without being CMS and Admin panel, but only is a Nodejs package that works with any framework.\\n\\nHow it is working internally? Reflect creates Ontological data of the files. Ontological data is stored in the JSON format. Ontology simply means the files will be linked internally.\\n\\nReflect also supports the dynamic data. For example, if a web component parameter depends on a data fetched from the database. Reflect will fetch content from the database. Then, add the result into the JSON representation of the web component.\\n\\nThe dynamic data of the website are called `CodePiece`.\\nCode pieces are component scripts. For example, if a web component depends on variable `var userName = db.getUserId(session)`, then Code Piece will be the result of database request assigned to the user name.\\n\\nCode pieces are used internally, and results are in the `Reflect` memory: [CodePieceMemory](https://github.com/ara-foundation/web/blob/aab7c4c744ed6748e3ca5942820cdf259d81d090/packages/reflect/src/code-piece-memory.ts#L10) memory.\\n\\nReflect Memory keeps key-value pair of the code pieces and their identifiers. Key-Value pairs are defined in [CodePieceRecord](https://github.com/ara-foundation/web/blob/aab7c4c744ed6748e3ca5942820cdf259d81d090/packages/reflect/src/code-level/code-piece.ts#L22) type.\\n\\nAs code pieces also have the types. Type might be a variable\\ndeclaration, a function call, a class or a type definition etc. The potential types of code pieces is defined in [CodePieceType](https://github.com/ara-foundation/web/blob/aab7c4c744ed6748e3ca5942820cdf259d81d090/packages/reflect/src/code-level/code-piece.ts#L6) enum.\\n\\nBut interaction with this key-value memory isn\'t flexible.\\nIf we want to receive a code by the code piece type, or do \\nthey have certain attribute, then generating additional\\ninterface adds more code lines.\\n\\nLuckily, creating `Rest` module for collaboration website, I found that using it for memory is also useful.\\nIf I will need a result from memory, I could use `CodePieceMemory.get`, `CodePieceMemory.post` and other rest operations. And filtering is done by the Rest.\\n\\n## What do I need to do to use Rest in my code?\\n\\nRest doesn\'t work with JSON straight away. Rest works with the ontological object tree. So, we need to define ontological object node, and tree builder that can convert our JSON into ontological nodes.\\n\\nOntological means, instead IDs, we use links. \\nIf I say, this is ontological array, then array may be, elements of array, or size of array may be linked to another data within the project. That to understand the array, you need to find elements by the link. Basically, ontological array defines what it presents. Your source codes don\'t need it, as they have module importing rules provided by the package managers.\\nDatabases also don\'t need it, since they have `foreign-keys`.\\nBut if we want to have inter-related JSON that is agnostic of database, or file system which means we can share it, we can use it in anywhere. Then, we need it.\\n\\nSo, we the first step is to design the ontology of our code piece. Which means the links. To make it work with CSS Selectors, our links should be extending Object Links. \\n\\n> 1 First step in using Rest API for any JSON:\\n> **Design Linking rules for objects compatible with ObjectLink**\\n\\n## 1. Ontology, code piece links as object links\\n\\nObject Links are based on CSS Selectors. It\'s compatible with the CSS, so, any CSS Parser would understand object links as well.\\n\\n**Valid Object Links**\\n```css\\ndiv#main-content        /* main-content element in the page */\\na[href=\\"google.com\\"]    /* all links to google.com          */\\n.btn-primary            /* all primary buttons              */\\n```\\n\\nObject Links provide four ways to build selectors:\\n- ID\\n- Tag\\n- Class\\n- Attribute\\n\\nWe need to think, how do we design our JSON links, to match our data to object link\'s four selectors.\\n\\n### 1.1 Defining link selectors to our JSON object.\\nIn Reflect, Code pieces are already stored using identifiers. So, we will match it with id selector. \\nIf we have a variable `let userName`; Then we could\\nfetch it using `#userName` link.\\n\\nCode Pieces have its own attributes such as `public`, `data`,\\n`dataType` etc. If we want to fetch all `const varName` variables, then we could fetch using `[constant]`,\\nif we want to fetch all `let varName`, then we could write `[constant!=true]`.\\n\\nOur code pieces have a type. Let them be the tag of code piece. To return all variable declarations we could write `var`, to return all type declarations we could write `type`.\\n\\nWhen it comes to classes, we don\'t need them.\\n\\n### 1.2 Writing the code for Object Link creation\\nSo let\'s create Object Node builder four our code pieces. What will be the Rest operations work with? With the code pieces in a single memory. So, each module have it\'s own object tree from code pieces.\\n\\n```typescript\\nimport { OkResult } from \\"@ara-web/p-hintjens\\";\\nimport { type ObjectToNodeTree, type ElementOp, ObjectNode, DOCUMENT_SELECTOR } from \\"@ara-web/sds\\";\\n\\nexport const moduleToObjectTree: ObjectToNodeTree<CodePiece> = (): ObjectNode<CodePiece> => {\\n    // Creating the root for entire source code that has one or many code pieces.\\n    const doc = new ObjectNode<CodePiece>(codePieceOps);\\n    return doc;\\n}\\n```\\n\\nThe `codePieceOps` is the helpful translators, that in request by Object Node, will return respectful CSS Selector.\\n\\nHere is the declaration:\\n\\n```typescript\\nexport const codePieceOps: ElementOp<CodePiece> = {\\n\\tgetName: getCodePieceName,\\n\\tgetChildren: getCodePieceChildren,\\n\\tgetAttribute: getCodePieceAttribute,\\n\\tsetAttribute: setCodePieceAttribute,\\n}\\n```\\n\\nCode Piece Operations define four functions that CSS Selectors use for every object node.\\nBefore starting to write code pieces, we already designed how we will define the css selectors.\\n\\nWe could solve if one condition.\\n\\nThe element operator that returns ID selector of the `CodePiece`:\\n\\n```typescript\\nconst getCodePieceName = (_element?: CodePiece): string => {\\n\\tif (_element === undefined) {\\n\\t\\treturn DOCUMENT_SELECTOR;\\n\\t}\\n    return _element.identifier!;\\n}\\n```\\n\\nAnd other code piece operations:\\n```typescript\\nconst getCodePieceChildren = (el: CodePiece): CodePiece[] => {\\n\\treturn el.getAllMemoryData();\\n}\\n\\nconst getCodePieceAttribute = (_element: CodePiece | undefined, attrName: string): string | undefined => {\\n\\tif (_element === undefined) {\\n\\t\\treturn undefined;\\n\\t}\\n    if (attrName in _element) {\\n        return (_element as any)[attrName]?.toString();\\n\\n    }\\n\\treturn undefined;\\n}\\n\\nconst setCodePieceAttribute = <AttrType>(_element: CodePiece | undefined, attrName: string, attrValue: AttrType): OkResult => {\\n\\tif (_element === undefined) {\\n\\t\\treturn OkResult.ok();\\n\\t}\\n\\tif (attrName in _element) {\\n\\t\\t(_element as any)[attrName] = attrValue;\\n\\t\\treturn OkResult.ok();\\n\\t} else {\\n\\t\\treturn OkResult.fail(`The ${_element.identifier} has no attributes`, `Can not set ${attrName} to non attributal element`)\\n\\t}\\n}\\n```\\n\\nVoila. Our `code-piece-object-tree.ts` is ready, how do we set the CodePieceTree?\\nSo, how do we use it and replace our previous code?\\n\\n### 1.3 Updating code to use REST\\nLet me check who is depending on the `CodePieceMemory`. What I did\\nis basically removed the code piece and turned it into a REST node\\nbased on `CodePiece`.\\n\\n> Offtopic:\\n> Luckily, I also follow the SDS rule, which makes CodePieceMemory local file and doesn\'t have to worry that removing it will break entire code.\\n\\nThe CodePieceMemory is part of `ModuleMemory` that along with code pieces keeps\\nit\'s source code, file path, and other attributes.\\n\\nWhat we need to do now is to update `ModuleMemory` to remove CodePiece and use the REST.\\n\\n---\\n> 1 day later\\n---\\n\\nI did replace `class ModuleMemory<T> extends CodePieceMemory`\\nwith the simple `ModuleMemory<T>` with the `rest()` method returning `Rest<CodePiece>`.\\n\\nNow, I can simply fetch data from module memory using `memory.rest.get!(\'#varName\') to fetch the result of the variable.\\n\\nCheck out the test files on [GitHub](https://github.com/ara-foundation/web/blob/27216bc54fa2cdd8764051d6da720cba30c79b4e/packages/reflect/test/type-declaration.test.ts#L37)."},{"group":"blog","slug":"blog/turning-reflect-into-restful-api-with-sds-package","frontmatter":{"title":"Composing SDSRest with other SDSRest to compose","meta_title":"","description":"A blog describes our refactoring journey when we turned our rest to be REST operational","date":"2025-05-21T00:00:00.000Z","categories":["rest","sds","reflect","refactoring"],"author":"Medet Ahmetson","tags":["refactoring","reflect","exciting"],"draft":false},"content":"\\n# Intro\\nCurrently, there was only way to work with the [Reflect](https://github.com/ara-foundation/web/tree/main/packages/reflect) package:\\n\\n```typescript\\nmodules = await reflect.get(\'node_modules\');\\n```\\n\\nReflect doesn\'t have other get options. It doesn\'t have any other operation to update the data.\\n\\nToday\'s blog is about my journey how I implemented the advanced data manipulation [SDSRest](https://www.npmjs.com/package/@ara-web/sds). Instead, creating each manipulation method, I turned the Reflected ontology JSON into a `SDSRest` file format. The result? I can use CSS Selectors for the Reflect:\\n\\n```typescript\\n// get all node modules\\nreflect.getAll!(\'.node_modules\')\\n// find `type URL {}` in the website scripts\\nreflect.getAll!(\'type#URL\') \\n// update the `let varName = \'\'` value if its occurs in the first file.\\nreflect.put!(\'memop > module:nth-child(1) > var#navName\', json)\\n// set actionButton as disabled.\\nreflect.patch!(\'#actionButton[disabled]\', true)\\n```\\n\\nThe `Rest` is a module that creates a RESTFul wrapper for any JSON object. And allows to use CSS Selectors for querying the JSON objects.\\nIf you have to manipulate JSON with the deeply nested objects, or without knowing exact structure, then REST might be helpful. And tell me did this blog post also helped you to understand is it worth to use SDSRest?\\n\\nEarlier I already wrote my journey in the [How did I create a REST api for any JSON object](https://www.ara.foundation/blog/turning-code-piece-into-restful-api-with-sds-package)  article. I opened it on a browser, and follow it as a guide as my own documentation.\\n\\n> I highly recommend to read the first article as here I will simply describe my throught processes without explaining what is REST and how to think in REST way.\\n\\nLet\'s start from the steps to apply Rest API for our JSON.\\n\\n# Creating ontology\\nBefore coding, I have to design the ontological structure that Rest package requires.\\nIn order to do that, I have to read the code and build a mental model of the Reflect, what will be in the REST and what\'s not.\\n\\nQuite often, trying to read the code to have a compherensive architectural view is the hardest thing. So hard, that in the past, I would procrastinate. God damn, so hard to return back to the code you wrote few months ago and try to understand it.\\n\\nI did it. So here is the plan. Reflect rest wrapper will be to all reflected website. Ontologically, each reflect\'s will be tagged as `memop`.\\n\\n> memop = extension\\n\\nEach file will be tagged as `module`.\\nAnd if the rest selector accesses to the Code Piece tags, then rest it will work with the code pieces.\\n\\nWhich means, if I will use the code peace object tags such as `var`, `class`, `type` then Rest understands we are asking code pieces.\\nIf we are using `memop` then reflect should understand we are asking to return the extension.\\nIf we are using `module` then reflect should understand we are asking to find a file.\\n\\nPlanning and writing yourself the architecture before coding also gives you a task list and their priorities. After all, knowing the architecture also allows to indetify the dependencies between the tasks.\\n\\nLet\'s code!\\n\\nPassed four hours\\n---\\n\\n## Reflect Object Tree\\nRest doesn\'t work with the JSON directly, instead it needs an intermediary data type that Rest operates with. This intermediary data type converts the JSON object into a parent-child related graph tree.\\n\\nWe don\'t create the object tree, instead create two methods that we pass to our Rest along with the JSON, and let the JSON to convert the data when its needed.\\n\\nThose two methods are \\n`ObjectToNodeTree`, `ElementOps` provided by `@ara-web/sds` package.\\n\\nThe defined reflect object is in `packages/src/reflect-object-tree.ts`.\\n\\nAnother three hours passed\\n---\\n\\n## CSS Selector for Reflect\\nCreating a CSS Selector for the modules and module operators took me less few hours. The code itself took about twenty minutes, and most of the time I had to deal by updating the test files.\\n\\nNext step is to integrate code pieces into the Reflect\'s rest, so that using `Reflect.rest.get(\'content selector\')` I could fetch data from the reflect file content.\\n\\nOne day passed\\n---\\nBut adding the Code Pieces (a.k.a file contents) took me few days, eventually discovering\\nover-engineered parts of Rest. The bug that didn\'t allow me to merge various rests together was hard to debug due to over-engineering. Eventually, updated the Rest as [@ara-web/sds@0.1.3](https://www.npmjs.com/package/@ara-web/sds/v/0.1.3).\\n\\nAfter fixing the Object Tree Node creation, the Reflect\'s modules worked automatically.\\n\\nI created the [reflect-object-tree](https://github.com/ara-foundation/web/blob/main/packages/reflect/src/reflect-object-tree.ts) which is creating the object tree from the reflected data.\\n\\nThe method `reflectElementToObjectTree` converts any reflected element (CodePiece, Module, Module Operator) into an\\nObject Node. \\n\\n> [Source Code on Github](https://github.com/ara-foundation/web/blob/fa1130f5cde820ad3a7d11081d6efa0c531d87ec/packages/reflect/src/reflect-object-tree.ts#L29)\\n\\nThe method `reflectElementOps` is a collection of methods that returns Object Node parameter for any JSON nodes, such as what is the id, tag, or its children.\\n\\n> [Source Code on Github](https://github.com/ara-foundation/web/blob/fa1130f5cde820ad3a7d11081d6efa0c531d87ec/packages/reflect/src/reflect-object-tree.ts#L166)\\n\\nThree days passed\\n---\\n\\n## Replace Reflect.get with Reflect.rest\\nOnce we had the reflect rest api, it\'s time to replace the \\nReflect `get` method with the `Reflect.rest`.\\n\\nBut Reflect is plug-and-play module. Reflect\'s `get` method calls the extension hooks such as `beforeGet` and `afterGet` (source on [github](https://github.com/ara-foundation/web/blob/fa1130f5cde820ad3a7d11081d6efa0c531d87ec/packages/reflect/src/extension-interface.ts#L106)).\\n\\nLuckily, Rest module also implemented in SDS framework. So instead directly using Rest in Reflect, let\'s simply create a Rest Proxy that will call the Reflect hooks.\\n\\nWhat we will do is, we will create `RestReflectHookProxy`.\\nAdditionally, we will add all other rest related hooks before and after calling the rest operators.\\n\\nIt took more time, as I found out a bug in object duplication.\\nSimply I had to duplicate the object copy using `Object.create(obj)` instead using spread operator `{...obj, ...obj.hidedMethods}\\n\\nAnother time took to test that rest proxies are working properly.\\n\\nPassed the three days. \\nIt\'s done, and tests are working [Test](https://github.com/ara-foundation/web/blob/f3d2424b5040caf8ec9191cf2d30d65c73fc2a1c/packages/reflect/test/6-reflect.test.ts#L37) files to see how it\'s implemented.\\n\\nToday\\n---\\n\\nBefore releasing it, finally I upgraded the reflect extensions\\nto know what methods to export and what not. After seeing that reflect works correctly, I pushed the code to the github.\\n\\n## What\'s next?\\n- Reflect Astro Extension\'s rest operator must include Astro\'s `page`, `component` and other astro website contents.\\n- Add a rest extension that writes back the updated ontology into the file or database data.\\n\\nThen, reflect is ready to be used as a toolbar and an AI assistant. :)"}]'),k=a=>a.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/[-\s]+/g," ").replace(/^[a-z]/,function(i){return i.toUpperCase()}),T=a=>k(a).split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" "),S=a=>{const h=b.parse(a).replace(/<\/?[^>]+(>|$)/gm,"").replace(/[\r\n]\s*[\r\n]/gm,"");return C(h)},C=a=>{let i={"&nbsp;":" ","&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"};return a.replace(/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,h=>i[h])},R=({searchResult:a,searchString:i})=>{const h=(c=>c.reduce((o,n)=>{const s=o.findIndex(m=>m.group===n.group);return s===-1?o.push({group:n.group,groupItems:[{frontmatter:{...n.frontmatter},slug:n.slug,content:n.content}]}):o[s].groupItems.push({frontmatter:{...n.frontmatter},slug:n.slug,content:n.content}),o},[]))(a),f=(c,t)=>c.split(new RegExp(`(${t})`,"gi")).map((n,s)=>n.toLowerCase()===t.toLowerCase()?e.jsx("mark",{children:n},s):n),p=(c,t)=>c?.split(new RegExp(`(${t})`,"gi"))?.map((n,s)=>n.toLowerCase()===t.toLowerCase()?e.jsx("span",{className:"underline",children:n},s):n),g=(c,t)=>{const o=S(c),n=o.toLowerCase().indexOf(t.toLowerCase());let s=n;for(;s>0&&o[s-1]!==" ";)s--;const m=o.substring(s,t.length+n),l=o.substring(t.length+n,t.length+n+80);return e.jsxs(e.Fragment,{children:[f(m,t),l]})};return e.jsx("div",{className:"search-wrapper-body",children:i?e.jsx("div",{className:"search-result",children:h.length>0?h.map(c=>e.jsxs("div",{className:"search-result-group",children:[e.jsx("p",{className:"search-result-group-title",children:T(c.group)}),c.groupItems.map(t=>e.jsxs("div",{id:"searchItem",className:"search-result-item",children:[t.frontmatter.image&&e.jsx("div",{className:"search-result-item-image",children:e.jsx("img",{src:t.frontmatter.image,alt:t.frontmatter.title})}),e.jsxs("div",{className:"search-result-item-body",children:[e.jsx("a",{href:`/${t.slug}`,className:"search-result-item-title search-result-item-link",children:p(t.frontmatter.title,i)}),t.frontmatter.description&&e.jsx("p",{className:"search-result-item-description",children:p(t.frontmatter.description,i)}),t.content&&e.jsx("p",{className:"search-result-item-content",children:g(t.content,i)}),e.jsxs("div",{className:"search-result-item-taxonomies",children:[t.frontmatter.categories&&e.jsxs("div",{className:"mr-2",children:[e.jsx("svg",{width:"14",height:"14",fill:"currentColor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M11 0H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2 2 2 0 0 0 2-2V4a2 2 0 0 0-2-2 2 2 0 0 0-2-2zm2 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1V3zM2 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V2z"})}),t.frontmatter.categories.map((o,n)=>e.jsxs("span",{children:[p(o,i),t.frontmatter.categories&&n!==t.frontmatter.categories.length-1&&e.jsx(e.Fragment,{children:", "})]},o))]}),t.frontmatter.tags&&e.jsxs("div",{className:"mr-2",children:[e.jsxs("svg",{width:"14",height:"14",fill:"currentColor",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"}),e.jsx("path",{d:"M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"})]}),t.frontmatter.tags.map((o,n)=>e.jsxs("span",{children:[p(o,i),t.frontmatter.tags&&n!==t.frontmatter.tags.length-1&&e.jsx(e.Fragment,{children:", "})]},o))]})]})]})]},t.slug))]},c.group)):e.jsxs("div",{className:"search-result-empty",children:[e.jsxs("svg",{className:"mx-auto",width:"42",height:"42",viewBox:"0 0 47 47",fill:"none",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.10368 33.9625C9.90104 36.2184 13.2988 37.6547 16.9158 38.0692C21.6958 38.617 26.5063 37.3401 30.3853 34.4939C30.4731 34.6109 30.5668 34.7221 30.6721 34.8304L41.9815 46.1397C42.5323 46.6909 43.2795 47.0007 44.0587 47.001C44.838 47.0013 45.5854 46.692 46.1366 46.1412C46.6878 45.5904 46.9976 44.8432 46.9979 44.064C46.9981 43.2847 46.6888 42.5373 46.138 41.9861L34.8287 30.6767C34.7236 30.5704 34.6107 30.4752 34.4909 30.3859C37.3352 26.5046 38.6092 21.6924 38.0579 16.912C37.6355 13.2498 36.1657 9.81322 33.8586 6.9977L31.7805 9.09214C34.0157 11.9274 35.2487 15.4472 35.2487 19.0942C35.2487 21.2158 34.8308 23.3167 34.0189 25.2769C33.207 27.2371 32.0169 29.0181 30.5167 30.5184C29.0164 32.0186 27.2354 33.2087 25.2752 34.0206C23.315 34.8325 21.2141 35.2504 19.0925 35.2504C16.9708 35.2504 14.8699 34.8325 12.9098 34.0206C11.5762 33.4682 10.3256 32.7409 9.18992 31.8599L7.10368 33.9625ZM28.9344 6.28152C26.1272 4.12516 22.671 2.93792 19.0925 2.93792C14.8076 2.93792 10.6982 4.64009 7.66829 7.66997C4.6384 10.6999 2.93623 14.8093 2.93623 19.0942C2.93623 21.2158 3.35413 23.3167 4.16605 25.2769C4.72475 26.6257 5.4625 27.8897 6.35716 29.0358L4.2702 31.1391C1.35261 27.548 -0.165546 23.0135 0.00974294 18.3781C0.19158 13.5695 2.18233 9.00695 5.58371 5.60313C8.98509 2.19932 13.5463 0.205307 18.3547 0.0200301C22.9447 -0.156832 27.4369 1.32691 31.0132 4.18636L28.9344 6.28152Z",fill:"currentColor"}),e.jsx("path",{d:"M3.13672 39.1367L38.3537 3.64355",stroke:"black",strokeWidth:"3",strokeLinecap:"round"})]}),e.jsxs("p",{className:"mt-4",children:['No results for "',e.jsx("strong",{children:i}),'"']})]})}):e.jsx("div",{className:"py-8 text-center",children:"Type something to search..."})})},x=()=>{const[a,i]=w.useState(""),d=t=>{i(t.currentTarget.value.replace("\\","").toLowerCase())},h=t=>{const o=new RegExp(`${a}`,"gi");return a===""?[]:t.filter(s=>{const m=s.frontmatter.title.toLowerCase().match(o),l=s.frontmatter.description?.toLowerCase().match(o),y=s.frontmatter.categories?.join(" ").toLowerCase().match(o),r=s.frontmatter.tags?.join(" ").toLowerCase().match(o),u=s.content.toLowerCase().match(o);if(m||u||l||y||r)return s})},f=performance.now(),p=h(v),c=((performance.now()-f)/1e3).toFixed(3);return w.useEffect(()=>{const t=document.getElementById("searchModal"),o=document.getElementById("searchInput"),n=document.getElementById("searchModalOverlay"),s=document.querySelectorAll("#searchItem");document.querySelectorAll("[data-search-trigger]").forEach(r=>{r.addEventListener("click",function(){document.getElementById("searchModal").classList.add("show"),o.focus()})}),n.addEventListener("click",function(){t.classList.remove("show")});let l=-1;const y=()=>{s.forEach((r,u)=>{u===l?r.classList.add("search-result-item-active"):r.classList.remove("search-result-item-active")}),s[l]?.scrollIntoView({behavior:"smooth",block:"nearest"})};document.addEventListener("keydown",function(r){if((r.metaKey||r.ctrlKey)&&r.key==="k"&&(t.classList.add("show"),o.focus(),y()),(r.key==="ArrowUp"||r.key==="ArrowDown")&&r.preventDefault(),r.key==="Escape"&&t.classList.remove("show"),r.key==="ArrowUp"&&l>0)l--;else if(r.key==="ArrowDown"&&l<s.length-1)l++;else if(r.key==="Enter"){const u=document.querySelector(".search-result-item-active a");u&&u?.click()}y()})},[a]),e.jsxs("div",{id:"searchModal",className:"search-modal",children:[e.jsx("div",{id:"searchModalOverlay",className:"search-modal-overlay"}),e.jsxs("div",{className:"search-wrapper",children:[e.jsxs("div",{className:"search-wrapper-header",children:[e.jsxs("label",{htmlFor:"searchInput",className:"absolute left-7 top-[calc(50%-7px)]",children:[e.jsx("span",{className:"sr-only",children:"search icon"}),a?e.jsxs("svg",{onClick:()=>i(""),viewBox:"0 0 512 512",height:"18",width:"18",className:"hover:text-red-500 cursor-pointer -mt-0.5",children:[e.jsx("title",{children:"close icon"}),e.jsx("path",{fill:"currentcolor",d:"M256 512A256 256 0 10256 0a256 256 0 100 512zM175 175c9.4-9.4 24.6-9.4 33.9.0l47 47 47-47c9.4-9.4 24.6-9.4 33.9.0s9.4 24.6.0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6.0 33.9s-24.6 9.4-33.9.0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9.0s-9.4-24.6.0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6.0-33.9z"})]}):e.jsxs("svg",{viewBox:"0 0 512 512",height:"18",width:"18",className:"-mt-0.5",children:[e.jsx("title",{children:"search icon"}),e.jsx("path",{fill:"currentcolor",d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8.0 45.3s-32.8 12.5-45.3.0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9.0 208S93.1.0 208 0 416 93.1 416 208zM208 352a144 144 0 100-288 144 144 0 100 288z"})]})]}),e.jsx("input",{id:"searchInput",placeholder:"Search...",className:"search-wrapper-header-input",type:"input",name:"search",value:a,onChange:d,autoComplete:"off"})]}),e.jsx(R,{searchResult:p,searchString:a}),e.jsxs("div",{className:"search-wrapper-footer",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("kbd",{children:e.jsx("svg",{width:"14",height:"14",fill:"currentcolor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 011.506.0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 01-.753-1.659z"})})}),e.jsx("kbd",{children:e.jsx("svg",{width:"14",height:"14",fill:"currentcolor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 001.506.0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 00-.753 1.659z"})})}),"to navigate"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("kbd",{children:e.jsx("svg",{width:"12",height:"12",fill:"currentcolor",viewBox:"0 0 16 16",children:e.jsx("path",{fillRule:"evenodd",d:"M14.5 1.5a.5.5.0 01.5.5v4.8a2.5 2.5.0 01-2.5 2.5H2.707l3.347 3.346a.5.5.0 01-.708.708l-4.2-4.2a.5.5.0 010-.708l4-4a.5.5.0 11.708.708L2.707 8.3H12.5A1.5 1.5.0 0014 6.8V2a.5.5.0 01.5-.5z"})})}),"to select"]}),a&&e.jsxs("span",{children:[e.jsxs("strong",{children:[p.length," "]})," results - in"," ",e.jsxs("strong",{children:[c," "]})," seconds"]}),e.jsxs("span",{children:[e.jsx("kbd",{children:"ESC"})," to close"]})]})]})]})};export{x as default};
